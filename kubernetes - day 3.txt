Day-3

K8s - security
Scheduling
STS - Headless service
Init Containers
Storage
Ingress Controller
Cluster Upgradation
Etcd backup and restoration

52.234.142.248  ( trainer's master node)
docker / Docker@12345
hucklee/44rm@817A
https://github.com/hucklee24/K8S/tree/main/yamls
https://hub.docker.com/repositories/hucklee

/etc/kubernetes/pki/  ( contain all keys for cluster )
/etc/kubernetes/admin.conf --- important file for security

user.crt,user.csr,user.key
roles, context, user , key, csr, certificate
csr -- to protect private key

kubectl config view
kubectl config get-contexts

users<--------roles(admin/developers-specific to NS)/actions(create/list/get/watcvh)/resources(pods/deployments/services)
Clusterroles

kubectl api-resources

openssl genrsa -out stanley.key 2048
touch /root/.rnd  ### for ubuntu
openssl req -new -key stanley.key -out stanley.csr -subj "/CN=stanley"
openssl x509 -req -in stanley.csr -CA /etc/kubernetes/pki/ca.crt -CAkey /etc/kubernetes/pki/ca.key -CAcreateserial -out stanley.crt -days 500
mkdir .certs && mv stanley.crt stanley.key .certs

kubectl config set-credentials stanley --client-certificate=/home/stanley/.certs/stanley.crt --client-key=/home/stanley/.certs/stanley.key
kubectl create namespace stanley-dev
kubectl config set-context stanley-context --cluster=kubernetes --namespace=stanley-dev --user=stanley
kubectl config get-contexts
kubectl --context=stanley-context get pods